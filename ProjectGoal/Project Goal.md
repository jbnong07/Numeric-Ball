# 숫자 맞추기 게임

### **힌트를 얻어 최대한 적은 횟수로 상대방(컴퓨터)의 숫자를 맞추는 게임입니다.**

---

## 과제 개요
> **스파르타 2주차 문법 과제**

---

### ✅ Lv1 `~ 11/04`
- [x] 1에서 9까지 서로 다른 임의의 숫자 3개를 정하고 맞추는 게임입니다.
- [x] 정답은 랜덤으로 생성됩니다. (1에서 9까지의 서로 다른 3자리 숫자)

---

### ✅ Lv2 `11/05 - 11/06`
- [x] 정답을 맞추기 위해 3자리 숫자를 입력하고 힌트를 받습니다.
- [x] **힌트**는 야구 용어인 **볼**과 **스트라이크**입니다.
  - 같은 자리에 같은 숫자가 있는 경우 **스트라이크**  
  - 다른 자리에 같은 숫자가 있는 경우 **볼**
- [x] 올바르지 않은 입력값에 대해 오류 메시지를 표시합니다.
- [x] 3자리 숫자가 정답과 같으면 게임이 종료됩니다.

---

### ✅ Lv3 `11/06`
- [x] 정답 숫자를 **0에서 9까지의 서로 다른 3자리 숫자**로 설정합니다.
- [x] 맨 앞자리에 **0**이 오는 것은 불가능합니다.

---

### ✅ Lv4 `11/07`
- [x] 프로그램 시작 시 안내 문구를 표시합니다.
- [x] **게임 시작하기** 선택 시 "필수 구현 기능"의 예시처럼 게임이 진행됩니다.
- [x] 정답을 맞춰 게임이 종료되면 안내 문구를 다시 보여줍니다.

---

### ✅ Lv5 `11/07`
- [x] **게임 기록 보기** 선택 시 완료된 게임들의 시도 횟수를 표시합니다.

---

### ✅ Lv6 `11/07`
- [x] **종료하기** 선택 시 프로그램이 종료됩니다.
- [x] 이전의 게임 기록은 모두 초기화됩니다.
- [x] 1, 2, 3 이외의 입력값에 대해 오류 메시지를 표시합니다.

---

### 🎯 Lv7 `추가 도전 / 목표`
- [x] **게임 기록에서 시도 횟수 순으로 랭킹을 표시합니다.**
- [x] 현재 게임 상태를 관리하는 **싱글톤 객체**를 만들어 활용합니다.
  - **싱글톤 패턴**을 적용했으나, 하나의 클래스에서만 관리하는 상황이므로 **의존성 주입**이 더 바람직하다고 판단.
- [x] 피드백 받은 부분 반영:
  - 불필요한 코드(데드코드) 삭제
  - 에러처리 개선
  - 유지보수와 복잡도를 고려하여 적절한 디자인 패턴과 추상화 수준 유지
- [x] 새로운 디자인 패턴이나 코딩 방식을 적용해 보고, 구현 차이를 느껴보는 것도 목표입니다. (필요 시 선택적으로 구현)
- [x] **상태 관리**와 **분기 방식** 개선:
  1. [x] 상태 관리 열거형에 연관 값을 추가하여 세분화하고 관리
     - 연관값 사용으로 인해 비교 연산자나 해시값이 필요한 딕셔너리의 키로 사용하기 어려운 경우, 문제 해결 필요
  2. [x] 스위치문 대신 **클로저 딕셔너리**를 활용해 상태별 메서드 분기
     - 다수의 스위치 케이스가 있는 경우 딕셔너리 활용이 유리하나, 순환 참조 방지를 위한 **lazy**나 **weak self** 설정에 주의 필요
     - `guard` 문으로 메모리에서 인스턴스 할당 해제 여부를 체크하거나, 옵셔널 체이닝(self?)으로 확인이 필요
     -  가독성이 떨어질 수 있으므로, 현재 프로젝트에서는 명확히 스위치문이 더 나은 선택으로 판단하였으나, 사용 경험을 위해 클로저 딕셔너리를 적용

---

### 🚀 Lv8 `추가 도전`
- [ ] **새로운 기능** 추가 시 각 기능의 추가 난이도를 분석하고, 적용한 디자인 패턴이 어떤 영향을 주었는지 생각 정리해보기
  - [ ] **치트 모드**: 메뉴에서 활성화 시 정답을 입력할 때 표시
  - [ ] **힌트 기능**: 힌트를 받으면 시도 횟수 +10(또는 랭킹 등록 불가) 후, 정답의 숫자 4개를 랜덤 순서로 공개
  - [ ] **메뉴 추가**: 힌트와 치트에 대한 설명 및 게임 진행 방식 설명 제공

=============================

필요한 기능 의견(class로 나눌 기능들)
    출력
v        -안내문구
v        -게임 진행
v        -오류 처리
v        -게임 기록
        
    입력
v        -메뉴 선택
v            -게임/기록/종료
v        -게임 정답
        
v        -중단
v            -게임 도중 메뉴로 돌아가기
v            -기록, 랭킹페이지에서 돌아가기 > 돌아갈 필요가 없었음.
v        -게임 종료
v            -정답 후 아무 키나 눌러서 메뉴로 돌아가기
v            -메뉴에서 게임 종료하기
            
v    게임기록
v        -게임 회차와 시도 횟수 표시
v    정답 생성기
v        -0으로 시작하지 않음
v        -중복되는 숫자가 허용되지 않음
v        -4개의 숫자와 인덱스를 가진 딕셔너리를 반환
v    게임 매니저
v        -입력 받은 값과 정답 비교
v        -스트라이크/볼/홈런/아웃 처리
v    컨트롤러
v        -사용자가 선언하여 사용하고 게임이 최종적으로 동작하는 곳
v    데이터
v        -게임 회차, 기록 저장
v        -정답, 횟수
v        -정답 입력, 메뉴 입력
v    에러
v        -메뉴에서 불가능한 입력
v        -게임 진행 중 불가능한 입력
v            -자릿수가 안 맞는 경우
v            -문자를 입력하는 경우
v            -0으로 시작하는 경우
v    상태매니저
v        -게임 진행 흐름을 파악하고 동일한 입력을 상태에 따라 다른 처리가 가능하게 하기 위함
v        -상태를 확인한 후 데이터를 변경하는 것으로 데이터를 조금 더 안전하게 만들 수 있음

개선 사항
    1. 상태 관리 객체에 적용된 싱글톤 패턴 빼기
    2. gameStart 메서드의 길이가 다소 길어 코드를 읽기 어려운 점을 개선하기
    3. OOP뿐 아니라 FP관점에서 바라본 의견들도 주석으로 달아보기(사이드 이펙트가 많아보인다는 리뷰 받음)
    4. 현재의 명령형 프로그래밍이 아닌 반응형 프로그래밍으로 바꿀 때의 차이점 생각해보기
    
        
    


